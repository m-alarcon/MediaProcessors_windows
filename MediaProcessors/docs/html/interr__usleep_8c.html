<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MediaProcessors: interr_usleep.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MediaProcessors
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_cbdb8362360e11eafe2fa3bc74cf0ffd.html">utils</a></li><li class="navelem"><a class="el" href="dir_3067f7d8f9aa80e9f740e3277c5af1f3.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">interr_usleep.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="interr__usleep_8h_source.html">interr_usleep.h</a>&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &quot;log.h&quot;</code><br />
<code>#include &quot;<a class="el" href="stat__codes_8h_source.html">stat_codes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="check__utils_8h_source.html">check_utils.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for interr_usleep.c:</div>
<div class="dyncontent">
<div class="center"><img src="interr__usleep_8c__incl.png" border="0" usemap="#interr__usleep_8c" alt=""/></div>
<map name="interr__usleep_8c" id="interr__usleep_8c">
<area shape="rect" id="node2" href="interr__usleep_8h.html" title="Interruptible usleep module. This module (&quot;interruptible usleep&quot;) implements a wrapper to the &#39;usleep..." alt="" coords="16,155,123,181"/>
<area shape="rect" id="node8" href="log_8h_source.html" title="log.h" alt="" coords="167,155,217,181"/>
<area shape="rect" id="node11" href="stat__codes_8h.html" title="General status codes enumeration. " alt="" coords="555,80,653,107"/>
<area shape="rect" id="node12" href="check__utils_8h.html" title="check_utils.h" alt="" coords="107,80,205,107"/>
</map>
</div>
</div>
<p><a href="interr__usleep_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structinterr__usleep__ctx__s.html">interr_usleep_ctx_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a19b1665d85404627bdc076a60e21d926"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interr__usleep_8c.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>()</td></tr>
<tr class="separator:a19b1665d85404627bdc076a60e21d926"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a952a138df6a0c053aa91d931c6c7de57"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structinterr__usleep__ctx__s.html">interr_usleep_ctx_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interr__usleep_8c.html#a952a138df6a0c053aa91d931c6c7de57">interr_usleep_ctx_t</a></td></tr>
<tr class="separator:a952a138df6a0c053aa91d931c6c7de57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a00d69cc5585ae853d435bd85aa8e0e8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interr__usleep_8c.html#a952a138df6a0c053aa91d931c6c7de57">interr_usleep_ctx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interr__usleep_8c.html#a00d69cc5585ae853d435bd85aa8e0e8d">interr_usleep_open</a> ()</td></tr>
<tr class="separator:a00d69cc5585ae853d435bd85aa8e0e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a939d9b2dff6009bca1eb000f6680c144"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interr__usleep_8c.html#a939d9b2dff6009bca1eb000f6680c144">interr_usleep_close</a> (<a class="el" href="interr__usleep_8c.html#a952a138df6a0c053aa91d931c6c7de57">interr_usleep_ctx_t</a> **ref_interr_usleep_ctx)</td></tr>
<tr class="separator:a939d9b2dff6009bca1eb000f6680c144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62706fc3062c3dcff67455da059f342f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interr__usleep_8c.html#a62706fc3062c3dcff67455da059f342f">interr_usleep_unblock</a> (<a class="el" href="interr__usleep_8c.html#a952a138df6a0c053aa91d931c6c7de57">interr_usleep_ctx_t</a> *interr_usleep_ctx)</td></tr>
<tr class="separator:a62706fc3062c3dcff67455da059f342f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a4691f946f5b933a6086a66d831483b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interr__usleep_8c.html#a5a4691f946f5b933a6086a66d831483b">interr_usleep</a> (<a class="el" href="interr__usleep_8c.html#a952a138df6a0c053aa91d931c6c7de57">interr_usleep_ctx_t</a> *interr_usleep_ctx, uint32_t usec)</td></tr>
<tr class="separator:a5a4691f946f5b933a6086a66d831483b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Rafael Antoniello </dd></dl>

<p>Definition in file <a class="el" href="interr__usleep_8c_source.html">interr_usleep.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a19b1665d85404627bdc076a60e21d926"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNLOCK</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">interr_usleep_ctx-&gt;flag_exit= 1; \</div><div class="line">    pthread_mutex_lock(&amp;interr_usleep_ctx-&gt;interr_mutex); \</div><div class="line">    pthread_cond_broadcast(&amp;interr_usleep_ctx-&gt;interr_signal); \</div><div class="line">    pthread_mutex_unlock(&amp;interr_usleep_ctx-&gt;interr_mutex);</div></div><!-- fragment --><p>MACRO used to unlock internal MUTEX: sets exit flag and send signal to eventually unlock MUTEX </p>

<p>Definition at line <a class="el" href="interr__usleep_8c_source.html#l00060">60</a> of file <a class="el" href="interr__usleep_8c_source.html">interr_usleep.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a952a138df6a0c053aa91d931c6c7de57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structinterr__usleep__ctx__s.html">interr_usleep_ctx_s</a>  <a class="el" href="interr__usleep_8c.html#a952a138df6a0c053aa91d931c6c7de57">interr_usleep_ctx_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interruptible usleep context structure. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5a4691f946f5b933a6086a66d831483b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int interr_usleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interr__usleep_8c.html#a952a138df6a0c053aa91d931c6c7de57">interr_usleep_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>interr_usleep_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>usec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform the interruptible 'usleep' operation; that is: suspends execution of the calling thread for (at least) usec microseconds. The sleep may be lengthened slightly by any system activity or by the time spent processing the call or by the granularity of system timers. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Pointer</td><td>to the interruptible module instance context structure, that was obtained in a previous call to the '<a class="el" href="interr__usleep_8h.html#a00d69cc5585ae853d435bd85aa8e0e8d">interr_usleep_open()</a>' function. </td></tr>
    <tr><td class="paramname">usec</td><td>Unsigned 32-bit integer specifying the amount of microseconds to sleep. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code: <br />
<ul>
<li>STAT_SUCCESS code in case of success;</li>
<li>STAT_EINTR in the case of interruption caused by a parallel call to '<a class="el" href="interr__usleep_8h.html#a62706fc3062c3dcff67455da059f342f">interr_usleep_unblock()</a>' function;</li>
<li>STAT_ERROR or other status code in the case of an internal error (refer to .<a class="el" href="stat__codes_8h.html" title="General status codes enumeration. ">stat_codes.h</a>). </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="interr__usleep_8c_source.html#l00133">133</a> of file <a class="el" href="interr__usleep_8c_source.html">interr_usleep.c</a>.</p>

</div>
</div>
<a class="anchor" id="a939d9b2dff6009bca1eb000f6680c144"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interr_usleep_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interr__usleep_8c.html#a952a138df6a0c053aa91d931c6c7de57">interr_usleep_ctx_t</a> **&#160;</td>
          <td class="paramname"><em>ref_interr_usleep_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlock 'usleep' operation -if applicable- and release interruptible module instance context structure. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ref_interr_usleep_ctx</td><td>Reference to the pointer to the interruptible module instance context structure to be release, that was obtained in a previous call to the '<a class="el" href="interr__usleep_8h.html#a00d69cc5585ae853d435bd85aa8e0e8d">interr_usleep_open()</a>' function. Pointer is set to NULL on return. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="interr__usleep_8c_source.html#l00102">102</a> of file <a class="el" href="interr__usleep_8c_source.html">interr_usleep.c</a>.</p>

</div>
</div>
<a class="anchor" id="a00d69cc5585ae853d435bd85aa8e0e8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interr__usleep_8c.html#a952a138df6a0c053aa91d931c6c7de57">interr_usleep_ctx_t</a>* interr_usleep_open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes (open) interruptible module instance. </p><dl class="section return"><dt>Returns</dt><dd>Pointer to the interruptible module instance context structure ("handler") on success, NULL if fails. </dd></dl>

<p>Definition at line <a class="el" href="interr__usleep_8c_source.html#l00070">70</a> of file <a class="el" href="interr__usleep_8c_source.html">interr_usleep.c</a>.</p>

</div>
</div>
<a class="anchor" id="a62706fc3062c3dcff67455da059f342f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interr_usleep_unblock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interr__usleep_8c.html#a952a138df6a0c053aa91d931c6c7de57">interr_usleep_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>interr_usleep_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlock 'usleep' operation. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Pointer</td><td>to the interruptible module instance context structure, that was obtained in a previous call to the '<a class="el" href="interr__usleep_8h.html#a00d69cc5585ae853d435bd85aa8e0e8d">interr_usleep_open()</a>' function. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="interr__usleep_8c_source.html#l00122">122</a> of file <a class="el" href="interr__usleep_8c_source.html">interr_usleep.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
